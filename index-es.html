<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>ViralFlow</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Arsha - v4.9.0
  * Template URL: https://bootstrapmade.com/arsha-free-bootstrap-html-template-corporate/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>
<body>
  </script>
  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top ">
    <div class="container d-flex align-items-center">

      <h1 class="logo me-auto"><a href="index.html">ViralFlow</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="#hero">Inicio</a></li>
          <li><a class="nav-link scrollto" href="#sobre">Sobre</a></li>
          <li><a class="nav-link scrollto" href="#dependencias">Dependencias</a></li>
          <li><a class="nav-link scrollto" href="#instalacao">Instalación</a></li>
          <li><a class="nav-link scrollto" href="#guia">Guía rápido</a></li>
          <li><a class="nav-link scrollto" href="#argumentos">Argumentos</a></li>
          <li><a class="nav-link scrollto" href="#outputs">Outputs</a></li>
          <li><a class="getstarted scrollto" href="#faq">FAQ</a></li>
          <li class="dropdown">
            <a href="#">A文</a>
            <ul>
              <li><a href="index.html"><img src="assets/img/portuguese-language.png" class="img-flag"> Português</a></li>
              <li><a href="index-en.html"><img src="assets/img/english-language.png" class="img-flag"> English</a></li>
              <li><a href="index-es.html"><img src="assets/img/spanish-language.png" class="img-flag"> Español</a></li>
            </ul>
          </li>
          <li><a class="nav-link scrollto"><img src="assets/img/spanish-language.png" class="img-flag"></a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">

    <div class="container">
      <div class="row">
        <div class="col-lg-6 d-flex flex-column justify-content-center pt-4 pt-lg-0 order-2 order-lg-1" data-aos="fade-up" data-aos-delay="200">
          <h1>Tecnología de la Red Genómica de la Fiocruz.</h1>
          <h2>Construido para análisis con virus de referencia (versión v1.3.0).</h2>
          <div class="d-flex justify-content-center justify-content-lg-start">
            <a href="#guia" class="btn-get-started scrollto">Guía Rápido</a>
          </div>
        </div>
        <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="zoom-in" data-aos-delay="200">
          <img src="assets/img/viralflow_logo.png" class="img-home" alt="" style="object-fit:contain;width: 400px;height: 400px;">
        </div>
      </div>
    </div>

  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= Sobre Section ======= -->
    <section id="sobre" class="about">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>De que se trata</h2>
        </div>
            <p>
              ViralFlow es un workflow elaborado para profesionales de la salud, con el objetivo de ejecutar todas las etapas de un análisis genómico viral por referencia.<br>
              <br>
              El código fue escrito en el lenguaje de workflow Nextflow, y puede ser aplicado para diferentes virus, donde el usuario, después de instalar la herramienta, necesita rodar solamente una línea de código.<br>
              <br>
              El grupo que desarrolló el ViralFlow no ofrece soporte, por el momento, para errores relacionados con la aplicación del código en otras plataformas. Hasta el presente, el código ha sido utilizado solamente en datos generados por secuenciadores Illumina, empleando estrategia de reads por pares (paired-end) o no emparejados (single-end).<br>
              <br>
              La publicación de la primera versión del ViralFlow puede ser verificada en el <a href="https://www.mdpi.com/1999-4915/14/2/217" target="_blank">link a continuación.</a>. La publicación de la vérsion 1.0, que incluye las funciones descritas en este documento, puede ser verificada en el <a href=" https://academic.oup.com/nargab/article/6/2/lqae056/7682253" target="_blank">link a continuación.</a>.
            </p>
            <img src="assets/img/flowchart_es.png" class="img-home align-items-center" alt="">

        <div class="section-title">
          <h2>Análisis intra-huésped</h2>
        </div>
            <p>
              El ViralFlow presenta un algoritmo propio para detectar regiones de iSNV (intrahost Single Nucleotide Variant).<br>
              <br>
              Para que un determinado locus multi alélico tenga un alelo con menor frecuencia, considerado iSNV, tres condiciones deben cumplirse, estas condiciones están esquematizadas en la parte superior de la figura que se muestra a continuación.
              <br>
              <br>
              Siguiendo esta lógica, la pare inferior de la figura a continuación representa 3 sitios multi alélicos y ejemplifica la lógica para considerar cuáles de ellos serian considerados iSNVs.<br>
              <br>
            </p>
            <img src="assets/img/viralflow_snv_es.png" class="img-home align-items-center" alt="">
          </div>
        </div>

      </div>
    </section><!-- End Sobre Section -->

    <!-- ======= Dependencias Section ======= -->
    <section id="dependencias" class="why-us section-bg">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>dependencias</h2>
        </div>
            <p>
              Para la instalación y ejecución del ViralFlow, será necesario disponer de al menos 4,4 Gb de memoria, para la elaboración de los contenedores, e de tres dependencias:
            </p>
            <ul>
              <li>pip</li>
              <li>Git</li>
              <li>uidmap</li>
            </ul>
            <p>
              La lista con las versiones de cada herramienta utilizada en el ViralFlow puede ser verificada en el <a href="https://github.com/WallauBioinfo/ViralFlow/tree/main/versions" target="_blank">siguiente link.</a>. Adicionalmente, para la instalación con un ambiente controlado, se usa el Conda. El ViralFlow utiliza la herramienta de creación de contenedores Singularity y del lenguaje de workflow Nextflow. Para garantizar el funcionamiento correcto del ViralFlow es esencial tener las versiones adecuadas del Singularity y del Nextflow, y ambos pueden ser instalados simultáneamente con el ViralFlow. 
            </p>
            <br>
            <div class="accordion-list">
              <ul>
                <li>
                  <a data-bs-toggle="collapse" data-bs-target="#accordion-list-1" class="collapsed"><span>01</span> Conda
                    <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
                  <div id="accordion-list-1" class="collapse" data-bs-parent=".accordion-list">
                    <p>
                      Conda es un administrador de paquetes de código abierto. Fue inicialmente desarrollado para gerenciar ambientes de paquetes de lenguaje Python, permitiendo el control de versiones.<br>
                      <br>
                      Para que todos los usuarios utilicen el ViralFlow con las versiones exactas del Singularity y del Nextflow, hemos creado un ambiente con estas versiones, permitiendo una estandarización en los ambientes de instalación del ViralFlow, así como la resolución de eventuales errores.<br>
                    </p>
                  </div>
                </li>
                <li>
                  <a data-bs-toggle="collapse" data-bs-target="#accordion-list-2" class="collapsed"><span>02</span> Singularity v3.11.4
                    <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
                  <div id="accordion-list-2" class="collapse" data-bs-parent=".accordion-list">
                    <p>
                      Singularity es una herramienta que ejecuta la virtualización a nivel del sistema operacional, tarea popularmente conocida como creación de contenedores.<br>
                      <br>
                      Para un pipeline computacional funcionar, como el ViralFlow, se necesita de varias dependencias (otras herramientas y bibliotecas del sistema operacional); y para evitar que el usuario necesite instalar todas las dependencias manualmente en su máquina, utilizamos el sistema de contenedores.<br>
                      <br>
                      Con la creación de contenedores, el usuario solo necesita instalar una herramienta, en este caso el Singularity, y después construir los contenedores basándose en archivos de receta (en el caso del ViralFlow, también fue automatizado con el script setupContainers.sh). De esta forma, diferentes grupos de investigación pueden rodar la herramienta en el mismo ambiente computacional, sin cambios en el comportamiento del ViralFlow, garantizando la reproductibilidad de los resultados. 
                    </p>
                  </div>
                </li>
                <li>
                  <a data-bs-toggle="collapse" data-bs-target="#accordion-list-3" class="collapsed"><span>03</span> Nextflow 22.04 <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
                  <div id="accordion-list-3" class="collapse" data-bs-parent=".accordion-list">
                    <p>
                      Nextflow es un administrador de workflows de bioinformática que permite el desarrollo de workflows portátiles y reproducibles.<br>
                      <br>
                      Nextflow permite la ejecución de los workflows en diversos ambientes computacionales, como ambientes locales, de computación de alta performance (HPC), servicios de computación en la nube, AWS y Google Cloud, y también, en sistemas de orquestación de contenedores como Kubernetes.<br>
                      <br>
                      Adicionalmente, el Nextflow proporciona soporte para gerenciar las dependencias de Conda, Docker, Podman o Singularity.         
                    </p>
                  </div>
                </li>
              </ul>
            </div>
        </div>
      </div>
    </section><!-- End Dependencias Section -->

    <!-- ======= Instalação Section ======= -->
    <section id="instalacao" class="skills">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>¿Cómo instalar (MacOS)? </h2>
        </div>
          <p>
            Considerando las limitaciones del uso del Singularity en el MacOS, para rodar el ViralFlow en este tipo de sistema se sugiere utilizar un software de virtualización Linux llamado <a href="https://github.com/lima-vm/lima">Lima</a>. De esta forma, el usuario debe seguir tres pasos para la instalación del Lima, y después continuar con la guía de instalación del Ubuntu</p>

          <h3>Instalando el Lima</h3>
          <p>
            Instale el Lima utilizando el administrador de paquetes Homebrew:
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                brew install lima
              </p>
            </div>
            <br>
          </div>
          <h3>Instalando la instancia Ubuntu</h3>
          <p>
            Siga el paso a paso de la instalación de la instancia Ubuntu introduciendo el comando a seguir
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                limactl start
              </p>
            </div>
          </div>
          <br>
          <h3>Inicie el Ubuntu</h3>
          <p>
            Cuando la maquina virtual sea instalada, utilice el comando a continuación para iniciar el Ubuntu y siga los pasos de instalación del ViralFlow normalmente.
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                lima
              </p>
            </div>
          </div>
          <br>
        </div>
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>¿Cómo instalar (Ubuntu)?</h2>
        </div>
          <p>
            Para realizar la instalación del ViralFlow, deben seguirse cuatro pasos: Instalar las dependencias del sistema, en el caso de haberlo hecho antes; Instalar el Conda; Instalar el ViralFlow y, finalmente, montar los contenedores para los análisis. Este proceso es realizado una única vez. 
            <br>
            <br>
            La instalación y uso del ViralFlow ya fue probada con los sistemas:
            <ul>
              <li> Ubuntu 20.04 LTS;</li>
              <li> Ubuntu 22.04 LTS;</li>
            </ul>
          </p>
          <h3>Instalando as dependencias del sistema</h3>
          <p>
            En el caso de no tener el instalador de dependencias pip, el sistema de control de versiones git y el paquete uidmap, usted debe realizar la instalación de las siguientes líneas de código:
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                sudo apt update -y && \<br>
                &emsp;&emsp;sudo apt upgrade -y && \<br>
                &emsp;&emsp;sudo apt install curl git python3-pip uidmap -y 
              </p>
            </div>
            <br>
          </div>
          <h3>Instalando y configurando el ambiente micromamba</h3>
          <p>
            Recomendamos el administrador de ambientes micromamba por su paralelización al realizar el download e instalación de las dependencias. En el caso de que usted utilice otro administrador de ambientes, como conda, miniconda, mamba, etc, puede continuar con la instalación del ViralFlow ignorando esta etapa, sin embargo, pueden ocurrir conflictos durante la instalación por las versiones de las dependencias especificadas, y sus respectivas disponibilidades en diferentes canales de recursos.<br>
            <br>
            En el caso de no tener el administrador de ambientes micromamba instalado, podrá hacerlo y configurar con las siguientes líneas de código:
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                cd $HOME<br>
                curl -Ls https://micro.mamba.pm/api/micromamba/linux-64/1.5.7 | tar -xvj bin/micromamba<br>
                ./bin/micromamba shell init -s bash -p ~/micromamba<br>
                source ~/.bashrc<br>
                micromamba activate<br>
              </p>
            </div>
          </div>
          <br>
          <h3>Instalando el ViralFlow</h3>
          <p>
            Si usted ya dispone de las dependencias citadas y el conda instalado, podrá instalar el ViralFlow con 5 líneas de código:
          </p>
          <div class="container-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                git clone https://github.com/WallauBioinfo/ViralFlow <br>
                cd ViralFlow/ <br>
                micromamba env create -f envs/env.yml <br>
                micromamba activate viralflow <br>
                pip install -e . <br>
              </p>
            </div>
          </div>
          <br>
          <h3>Construyendo los contenedores</h3>
          <p>
            Todas las etapas del ViralFlow son ejecutadas en ambientes controlados, donde cada herramienta tendrá la misma versión independientemente del grupo de investigación que haga uso de ella. El ViralFlow posee un método propio para realizar toda esa construcción de ambientes, rodando apenas una línea de código. Para que la construcción de los contenedores ocurra, el ViralFlow necesita que la herramienta “unsquashfs” se encuentre disponible en el directorio “/usr/local/bin/”. Durante el proceso de construcción de los contenedores, se realiza una etapa de verificación de la presencia de unsquashfs. Si el sistema del usuario no presenta el unsquashfs en el lugar ideal, el ViralFlow irá sugerir los pasos necesarios para la solución de este problema. Para evitar este problema, el usuario puede crear un link simbólico de la herramienta “unsquashfs” para el directorio “/usr/local/bin/”, y para ello, el siguiente comando debe ejecutarse:
          </p>
          <div class="unsquash-code">
            <div class="row-code">
              <div class="column left">
                <span class="dot" style="background:#ED594A;"></span>
                <span class="dot" style="background:#FDD800;"></span>
                <span class="dot" style="background:#5AC05A;"></span>
              </div>
            </div>
            <div class ="box-code">
              <p color = "green">
                sudo ln -s /usr/bin/unsquashfs /usr/local/bin/unsquashfs<br>
              </p>
            </div>
            <p>
              Después de garantizar que el unsquashfs se encuentra en el lugar adecuado, ejecuta el comando para la construcción de los contenedores:
            </p>
            <div class="containers-code">
              <div class="row-code">
                <div class="column left">
                  <span class="dot" style="background:#ED594A;"></span>
                  <span class="dot" style="background:#FDD800;"></span>
                  <span class="dot" style="background:#5AC05A;"></span>
                </div>
              </div>
              <div class ="box-code">
                <p color = "green">
                  viralflow -build_containers<br>
                </p>
              </div>
          </div>
        </div>
        <br>
        
    </section><!-- End Instalação Section -->

    <!-- ======= Guia Section ======= -->
    <section id="guia" class="skills">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Como ejecutar (Guía rápido)</h2>
          <p align="justify">El ViralFlow dispone de dos modos de uso: sars-cov2 e custom. Independientemente del modo de uso, el usuario debe realizar los caminos absolutos (todo el camino hasta el directorio o archivo que será indicado para el pipeline ex. /home/usuario/teste/) para cada archivo de entrada, en el caso de no hacerse, el pipeline será interrumpido durante la ejecución. La explicación de cada argumento puede ser <a href="https://viralflow.github.io/#argumentos">verificada aquí.</a>.</p>
          <br>
          <div class="row">
            <div class="content" data-aos="fade-left" data-aos-delay="100">
            <h3 align="justify"> Customizando el banco de snpEff </h3>
            </div>
            <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left" data-aos-delay="100">
                <p align="justify">
                  La herramienta snpEff presente en el ViralFlow ya viene configurada solamente con el genoma NC_045512.2 del virus SARS-CoV-2. En el caso de querer el análisis del snpEff para otros virus, deberá actualizarse el banco del snpEff con la siguiente línea de comando; ejemplo Dengue:
                </p><br>
            </div>
            <div class="col-lg-6 d-flex" data-aos="fade-right" data-aos-delay="100">
              <div class="container-code" style="margin-top:10px !important">
                <div class="row-code">
                  <div class="column left" align="right">
                    <span class="dot" style="background:#ED594A;"></span>
                    <span class="dot" style="background:#FDD800;"></span>
                    <span class="dot" style="background:#5AC05A;"></span>
                  </div>
                </div>
                <div class ="box-code">
                  <p color = "green" align="left">
                    viralflow -add_entry_to_snpeff --org_name Dengue --genome_code NC_001474.2             
                  </p>
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="content" data-aos="fade-left" data-aos-delay="100">
              <h3 align="justify"> sars-cov2  </h3>
            </div>
            <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left" data-aos-delay="100">
                <p align="justify">
                  En este modelo, el análisis es realizado considerando el genoma de referencia NC_045512.2, y posee como análisis adicionales la inclusión de linajes con la herramienta Pangolin, y la inclusión de clados y mutaciones con la herramienta Nextclade. Para ello, el usuario necesita construir un archivo con los parámetros del análisis, como el ejemplo <a href="https://github.com/WallauBioinfo/ViralFlow/blob/main/test_files/sars-cov-2.params">a continuación</a>.
                </p><br>          
            </div>
            <div class="col-lg-6 d-flex" data-aos="fade-right" data-aos-delay="100">
              <div class="container-code">
                <div class="row-code">
                  <div class="column left" align="right">
                    <span class="dot" style="background:#ED594A;"></span>
                    <span class="dot" style="background:#FDD800;"></span>
                    <span class="dot" style="background:#5AC05A;"></span>
                  </div>
                </div>
                <div class ="box-code">
                  <p color = "green" align="left">
                    viralflow -run --params_file test_files/sars-cov-2.params  
                  </p>
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="content" data-aos="fade-left" data-aos-delay="100">
              <h3 align="justify"> custom </h3>
            </div>
            <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left" data-aos-delay="100">
                <p align="justify">
                  En este modelo, el análisis es realizado considerando los archivos para el virus que el usuario desea analizar. De esta forma, el usuario es responsable por pasar cada uno de los archivos necesarios para el análisis. En el caso de que el usuario desee realizar el análisis del snpEff, debe pasar el código del refseq del genoma viral para el análisis:</p><br>     
            </div>
            <div class="col-lg-6 d-flex" data-aos="fade-right" data-aos-delay="100">
              <div class="container-code">
                <div class="row-code">
                  <div class="column left" align="right">
                    <span class="dot" style="background:#ED594A;"></span>
                    <span class="dot" style="background:#FDD800;"></span>
                    <span class="dot" style="background:#5AC05A;"></span>
                  </div>
                </div>
                <div class ="box-code">
                  <p color = "green" align="left">
                    viralflow -run --params_file test_files/denv.params         
                  </p>
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="content" data-aos="fade-left" data-aos-delay="100">
              <h3 align="justify"> Actualización pangolín</h3>
            </div>
            <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left" data-aos-delay="100">
                <p align="justify">
                  Periódicamente, la herramienta Pangolin actualiza el banco de linajes, así como la filogenia de la clasificación de Usher, las constelaciones de mutaciones de scorpio y el modelo utilizado del pangoLearn. Para realizar la actualización de la herramienta y/o de sus bases de datos, basta ejecutar el ViralFlow con alguno de los comandos:</p><br>     
            </div>
            <div class="col-lg-6 d-flex" data-aos="fade-right" data-aos-delay="100">
              <div class="container-code">
                <div class="row-code">
                  <div class="column left" align="right">
                    <span class="dot" style="background:#ED594A;"></span>
                    <span class="dot" style="background:#FDD800;"></span>
                    <span class="dot" style="background:#5AC05A;"></span>
                  </div>
                </div>
                <div class ="box-code">
                  <p color = "green" align="left">
                    #actualiza la herramienta y las bases de datos<br>
                    viralflow -update_pangolin<br>
                    <br>
                    #solo actualiza las bases de datos<br>
                    viralflow -update_pangolin_data<br>                     
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Guia Section -->

    <!-- ======= Argumentos Section ======= -->
    <section id="argumentos" class="cta">
      <div class="container" data-aos="zoom-in">
        <div class="section-title">
          <h2>Argumentos</h2>
        <table id="tables">
          <tr>
            <th>Argumento</th>
            <th>Valor estandard (default)</th>
            <th>Descripción</th>
          </tr>
          <tr>
            <td>virus</td>
            <td>sars-cov2</td>
            <td>Tipo de análisis (sars-cov2 o custom)</td>
          </tr>
          <tr>
            <td>primersBED</td>
            <td>null</td>
            <td>Camino absoluto del archivo BED con informaciones de los primers usados en la amplificación genómica (opcional).</td>
          </tr>
          <tr>
            <td>outDir</td>
            <td>launchDir/output/</td>
            <td>Camino absoluto para el directorio donde serán almacenados los resultados.</td>
          </tr>
          <tr>
            <td>inDir</td>
            <td>launchDir/input/</td>
            <td>Camino absoluto para el directorio con los datos de entrada (directorio con los archivos FASTQ).</td>
          </tr>
          <tr>
            <td>runSnpEff</td>
            <td>true</td>
            <td>Necesidad de ejecutar la herramienta snpEff (true or false).</td>
          </tr>
          <tr>
            <td>writeMappedReads</td>
            <td>true</td>
            <td>Necesidad de generar los archivos FASTQ con las lecturas de secuenciación que mapearon en el genoma de referencia.</td>
          </tr>
          <tr>
            <td>minLen</td>
            <td>75</td>
            <td>Tamaño mínimo que el read debe tener para no ser eliminado por el FastP.</td>
          </tr>
          <tr>
            <td>depth</td>
            <td>5</td>
            <td>Profundidad mínima que una región debe ser secuenciada para ser considerada en el consenso.</td>
          </tr>
          <tr>
            <td>mapping_quality</td>
            <td>30</td>
            <td>Umbral de calidad de mapeo para llamada de variantes.</td>
          </tr>
          <tr>
            <td>base_quality</td>
            <td>30</td>
            <td>Umbral de calidad de base para llamada de variantes.</td>
          </tr>
          <tr>
            <td>minDpIntrahost</td>
            <td>100</td>
            <td>Profundidad mínima que una región debe tener para ser considerada en el análisis de intrahuésped.</td>
          </tr>
          <tr>
            <td>trimLen</td>
            <td>0</td>
            <td>Número de bases que deben ser cortadas (“trimadas”) en las dos extremidades de los reads.</td>
          </tr>
          <tr>
            <td>refGenomeCode</td>
            <td>null</td>
            <td>Código refseq del genoma a ser utilizado em el análisis custom.</td>
          </tr>
          <tr>
            <td>referenceGFF</td>
            <td>null</td>
            <td>Arquivo GFF do genoma a ser utilizado na análise custom.</td>
          </tr>
          <tr>
            <td>referenceGenome</td>
            <td>null</td>
            <td>Archivo fasta del genoma a ser utilizado em el análisis custom.</td>
          </tr>
          <tr>
            <td>nextflowSimCalls</td>
            <td>null</td>
            <td>Número de llamadas simultáneas que el nextflow puede realizar.</td>
          </tr>
          <tr>
            <td>fastp_threads</td>
            <td>1</td>
            <td>Número de threads a ser utilizado em el análisis de la herramienta fastp.</td>
          </tr>
          <tr>
            <td>bwa_threads</td>
            <td>1</td>
            <td>Número de threads a ser utilizado em el análisis de la herramienta bwa.</td>
          </tr>
          <tr>
            <td>dedup</td>
            <td>false</td>
            <td>Este argumento habilita el modo de deduplicación del fastp. para activarlo, altere el valor para true en el archivo de prueba de parámetros.</td>
          </tr>
          <tr>
            <td>ndedup</td>
            <td>3</td>
            <td>Cuando el modo de desduplicación está activo, se podrá usar niveles de precisión (1 - 6). Usted podrá alterar ese valor, pero recomendamos el estandard. Mientras más alto, más RAM y tiempo son consumidos.  Para activarlo altere el valor de 1 para 6 en el archivo de prueba de parámetros.</td>
          </tr>
        </table>
      </div>
    </div>
    </section><!-- End Argumentos Section -->

    <!-- ======= Outputs Section ======= -->
    <section id="outputs" class="portfolio">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Archivos de Outputs</h2>
          <p>La herramienta ViralFlow produce dos tipos de outputs: especifico y compilado.</p><br>
          <h3 align="left"> Especifico </h3>
          <p align="justify">Para cada muestra en el análisis será creado un directorio de resultados con el patrón “prefijo_results” donde el prefijo es un código creado a partir del nombre del archivo fastq de la muestra. Cada directorio cuenta con los siguientes resultados:</p><br>
          <table id="tables">
            <tr>
              <th>Archivo</th>
              <th>Descripción</th>
            </tr>
            <tr>
              <td>prefixo.all.fa.pango.out.csv</td>
              <td>Archivo tabulado con los resultados de la herramienta pangolin.</td>
            </tr>
            <tr>
              <td>prefixo.ann.vcf</td>
              <td>Archivo vcf en formato tsv (Tab separated value - valores separados por coma) con la anotación de las variantes hecha por la herramienta snpEff.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.all.fa.nextclade.csv</td>
              <td>Archivo tabular con los resultados de la herramienta nextclade.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.amb.fa</td>
              <td>Genoma consenso con nucleótidos ambiguos en posiciones de alelos múltiples.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.fa</td>
              <td>Genoma consenso con nucleótidos mayoritarios. Consenso de la mayoría, normalmente depositado en el GISAID.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.fa.algn</td>
              <td>Genoma consenso alineado con el genoma de referencia (siguiendo el mismo tamaño, mafft --keeplenght).</td>
            </tr>
            <tr>
              <td>prefixo.depth5.fa.algn.minor.fa</td>
              <td>Genoma consenso con nucleótidos minoritarios.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.fa.bc.intrahost.short.tsv</td>
              <td>Archivo tabular resumiendo las posiciones genómicas donde las variantes intrahuésped aparecen.</td>
            </tr>
            <tr>
              <td>prefixo.depth5.fa.bc.intrahost.tsv</td>
              <td>Archivo tabular con todas las informaciones de las posiciones de variantes intrahuésped.</td>
            </tr>
            <tr>
              <td>prefixo.mapped.R1.fq.gz</td>
              <td>Archivo FASTQ R1 con los reads mapeados.</td>
            </tr>
            <tr>
              <td>prefixo.mapped.R2.fq.gz</td>
              <td>Archivo FASTQ R2 con los reads mapeados.</td>
            </tr>
            <tr>
              <td>prefixo.metrics.genome.tsv</td>
              <td>Archivo tabular con métricas de profundidad y cobertura del mapeamento.</td>
            </tr>
            <tr>
              <td>prefixo.fastp.html</td>
              <td>Archivo html con el resumen de los resultados de la herramienta fastp.</td>
            </tr>
            <tr>
              <td>prefixo_snpEff_summary.html</td>
              <td>Archivo html con el resumen de los resultados de la herramienta snpEff.</td>
            </tr>
            <tr>
              <td>prefixo.sorted.bam</td>
              <td>Archivo con el mapeamento sorteado de los reads de la muestra contra el genoma de referencia.</td>
            </tr>
            <tr>
              <td>prefixo.tsv</td>
              <td>Archivo vcf-like generado por el iVar.</td>
            </tr>
            <tr>
              <td>prefixo.unmapped.R1.bam.fq</td>
              <td>Archivo FASTQ R1 con los reads no mapeados.</td>
            </tr>
            <tr>
              <td>prefixo.unmapped.R2.bam.fq</td>
              <td>Archivo FASTQ R2 con los reads no mapeados.</td>
            </tr>
            <tr>
              <td>prefixo.vcf</td>
              <td>Archivo vcf.</td>
            </tr>
            <tr>
              <td>metrics.alignment_summary_metrics</td>
              <td>Archivo de texto con un resumen de diversas métricas del mapeamento.</td>
            </tr>
            <tr>
              <td>nextclade.errors.csv</td>
              <td>Archivo informando los errores del nextclade.</td>
            </tr>
            <tr>
              <td>nextclade_gene_*.translation.fasta</td>
              <td>Archivo fasta con las proteínas de cada gen.</td>
            </tr>
            <tr>
              <td>snpEff_genes.txt</td>
              <td>Archivo tabular con el número de variantes por impacto por gen.</td>
            </tr>
            <tr>
              <td>wgs</td>
              <td>Archivo textual con métricas del mapeamento, incluyendo profundidad por región.</td>
            </tr>
            <tr>
              <td>prefixo_coveragePlot.png</td>
              <td>Archivo PNG con la visualización gráfica de la cobertura del genoma.</td>
            </tr>
            <tr>
              <td>prefixo_coveragePlot.svg</td>
              <td>Archivo SVG con la visualización gráfica de la cobertura del genoma.</td>
            </tr>
            <tr>
              <td>prefixo_coveragePlot.html</td>
              <td>Archivo HTML con la visualización gráfica de la cobertura del genoma.</td>
            </tr>
            <tr>
              <td>prefixo_snpPlot.png</td>
              <td>Archivo PNG con la visualización gráfica de los SNPs detectados en la muestra con relación al genoma referencia.</td>
            </tr>
            <tr>
              <td>prefixo_snpPlot.svg</td>
              <td>Archivo SVG con la visualización gráfica de los SNPs detectados en la muestra con relación al genoma referencia.</td>
            </tr>            
          </table>
          <br>
          <br>
          <h3 align="left"> Compilado</h3>
          <p align="justify">Al final del análisis, es generado un directorio llamado COMPILED_OUTPUT con los resultados compilados, donde:</p><br>
          <table id="tables">
            <tr>
              <th>Archivo</th>
              <th>Descripción</th>
            </tr>
            <tr>
              <td>errors_detected.csv</td>
              <td>Muestras que con las que no fue posible generar consenso.</td>
            </tr>
            <tr>
              <td>lineage_summary.csv</td>
              <td>Es generado en el análisis del sars-cov-2, presenta el contaje de los linajes identificados en el análisis, incluyendo los linajes de genomas minoritarios.</td>
            </tr>
            <tr>
              <td>major_summary.csv</td>
              <td>Archivo tabular con un resumen de la profundidad, cobertura y linaje (en el caso de análisis de sars-cov-2) de los consensos mayoritarios.</td>
            </tr>
            <tr>
              <td>minor_summary.csv</td>
              <td>Archivo tabular con un resumen de la profundidad, cobertura y linaje (en el caso de análisis de sars-cov-2) de los consensos minoritarios.</td>
            </tr>
            <tr>
              <td>mutations.csv</td>
              <td>Archivo tabular con las mutaciones encontradas.</td>
            </tr>
            <tr>
              <td>nextclade.csv</td>
              <td>Archivo tabular con el resultado del nextclade (en el caso de análisis de sars-cov-2).</td>
            </tr>
            <tr>
              <td>pango.csv</td>
              <td>Archivo tabular con el resultado del pangolin (en el caso de análisis de sars-cov-2).</td>
            </tr>
            <tr>
              <td>reads_count.csv</td>
              <td>Archivo tabular con el contaje de reads por muestra.</td>
            </tr>
            <tr>
              <td>seqbatch.fa</td>
              <td>Archivo fasta con los consensos mayoritarios.</td>
            </tr>
            <tr>
              <td>short_summary.csv</td>
              <td>Archivo tabular con un resumen de la profundidad, cobertura y linaje (en el caso de análisis de sars-cov-2) de ambos consensos, con las siguientes columnas:<br>
                <br>
                <ul>
                  <li>cod: Prefijo definido para cada muestra;</li>
                  <li>mean_depth_coverag: Profundidad promedio;</li>
                  <li>sd_depth_coverage: Desvio estandard de la profundidad promedio;</li>
                  <li>median_depth_coverage: Profundidad mediana;</li>
                  <li>taxon: Prefijo de la muestra seguido por el código de consenso (mayor o menor);</li>
                  <li>linaje (solamente para sars-cov-2): Linaje del virus;</li>
                  <li>scorpio_call (solamente para sars-cov-2): Variante del virus;</li>
                  <li>coverage_breadth: Cobertura del montaje.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>wgs.csv</td>
              <td>Archivo tabular con el resultado del picard.</td>
            </tr>
            <tr>
              <td>VF_REPORT/index.html</td>
              <td>Archivo html con la compilación de los resultados del fastp y del snpEff.</td>
            </tr>
          </table>
        </div>
        </div>
      </div>
    </section><!-- End Output Section -->

    <!-- ======= Frequently Asked Questions Section ======= -->
    <section id="faq" class="portfolio">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Preguntas frecuentes (FAQ)</h2></div>
          <h4>¿Debo montar los contenedores para cada análisis?</h4>
            <p>No, los contenedores solo deben ser reconstruidos en el caso de que ocurra alguna actualización de la herramienta.</p>
          <h4>¿El ViralFlow mostró un error debido a la falta de “unsquashfs” en el directorio “usr/local/bin/” que debo hacer?</h4>
            <p>Se debe crear un link simbólico para el “unsquashfs”, para ello ejecute la siguiente línea de comando: sudo ln -s/usr/bin/unsquashfs/usr/local/bin/unsquashfs.</p>
          <h4>¿Debo providenciar un archivo fasta de adaptadores?</h4>
            <p>Usted debe providenciar un archivo fasta con los primers de PCR solamente en análisis que utilizarán PCR para amplificación del material genético viral antes de la secuenciación.</p>
          <h4>Mi análisis de VialFlow reportó un error en la etapa de actualización del Pangolin, ¿por qué?</h4>
            <p>Esto puede ocurrir si el equipo de Pangolin lanza una versión con nuevas dependencias, en cuyo caso debe reconstruir el contenedor de Pangolin con la línea: singularity pull docker://staphb/pangolin</p>
          <h4>Mi instalación salió mal en la etapa de montaje de los contenedores, ¿por qué?</h4>
            <p>Lo que puede haber sucedido es que tengas una versión de singularity distinta a v3.11.4, puedes comprobarlo con singularity --version. Otro factor que puede causar errores es si su red de Internet bloquea los dominios de consulta para crear contenedores.</p>
          <h4>Instalé la herramienta, mis archivos están todos organizados siguiendo el manual, pero las muestras no son encontradas, ¿por qué?</h4>
            <p>El ViralFlow reconoce las muestras con los sufijos _R1 o _R2 de .fq.gz o .fastq.gz, verifique que sus muestras siguen el patrón necesario. Ejemplos:
              <ul>
                <li>ART_R1.fq.gz, ART1_R2.fq.gz serán reconocidos como la muestra ART1;</li>
                <li>ART1_denv_R1.fastq.gz, ART1_denv_R2.fastq.gz serán reconocidos como la muestra ART1_denv.</li>
              </ul>
            </p>
            <h4>¿Puedo ejecutar el ViralFlow en Windows?</h4>
            <p>A pesar de que algunas versiones de Windows integran una interface Linux por el WSL (Windows Subsystem for Linux), nuestro equipo de desarrollo no usó el ViralFlow en estos ambientes, por lo tanto, el usuario es libre para probar el workflow en este tipo de ambiente, pero no podrá contar con el soporte de nuestro equipo en el caso de errores provenientes de estas pruebas.</p>
            <h4>¿Cómo citar?</h4>
            <p>Actualmente hay dos publicaciones de ViralFlow, la primera, de 2022, que incluye las versiones “pre” 1.0, y la segunda, de 2024, que incluye la versión 1.0.</p>
            <p>Dezordi, F.Z.; Neto, A.M.d.S.; Campos, T.d.L.; Jeronimo, P.M.C.; Aksenen, C.F.; Almeida, S.P.; Wallau, G.L.; on behalf of the Fiocruz COVID-19 Genomic Surveillance Network. ViralFlow: A Versatile Automated Workflow for SARS-CoV-2 Genome Assembly, Lineage Assignment, Mutations and Intrahost Variant Detection. Viruses 2022, 14, 217. https://doi.org/10.3390/v14020217</p>
            <p>Silva, A. F., Silva Neto, A. M., Aksenen, C. F., Jeronimo, P. M. C., Dezordi, F. Z., Almeida, S. P., Costa, H. M. P., Salvato, R. S., Campos, T. L., Wallau, G. L., on behalf of the Fiocruz Genomic Network. (2024). ViralFlow v1.0—a computational workflow for streamlining viral genomic surveillance. NAR Genomics and Bioinformatics, 6(2), lqae056. https://doi.org/10.1093/nargab/lqae056</p>
      </div>
    </section><!-- End Frequently Asked Questions Section -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="container footer-bottom clearfix">
      <div class="container">
        <h3>Wallau Lab</h3>
        <p>
          Fundação Oswaldo Cruz, Instituto Aggeu Magalhães<br>
          Universidade Federal de Pernambuco - Campus da, Av. Prof. Moraes Rego, s/n<br>
          Recife, Brasil <br><br>
          <strong>Site:</strong> https://wallaulab.wordpress.com<br>
        </p>
      </div>
      <div class="copyright">
        &copy;<strong><span>WallauLab</span></strong>. Reservados todos los derechos.
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/arsha-free-bootstrap-html-template-corporate/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a><br>
        Edited by <a href="https://dezordi.github.io/">Filipe Dezordi</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>
</html>
